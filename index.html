<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="noindex, nofollow"/>
  <title>Andrei Bazlov — CV / Резюме</title>

  <!-- Favicon & Manifest -->
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="icon" type="image/png" href="/favicon-32.png" sizes="32x32">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#0b2545">

  <!-- Open Graph (EN version for previews) -->
  <meta property="og:title" content="Andrei Bazlov — COO / Head of Operations / Growth & Product Manager">
  <meta property="og:description" content="Scaled revenue ×5, improved margin to 53%, raised NPS/CSI to 70%, ensured >90% on-time delivery. Download CV (RU/EN).">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://bazlove.com/">
  <meta property="og:image" content="/og-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Andrei Bazlov — COO / Head of Operations / Growth & Product Manager">
  <meta name="twitter:description" content="Scaled revenue ×5, margin 53%, NPS/CSI 70%, >90% on-time delivery. Download CV (RU/EN).">
  <meta name="twitter:image" content="/og-image.jpg">

  <style>
    :root{
      --bg:#f8f9fa; --ink:#0b2545; --muted:#61738a; --card:#fff; --line:#e7eef6;
      --cta:#0f5cc0; --cta-hover:#0d51ab; --success:#16a34a; --accent:#ee6c4d;
      --glow: 0 8px 18px rgba(34,197,94,.12);
    }
    body.dark{
      --bg:#121212; --ink:#e0e0e0; --muted:#9ca3af; --card:#1e1e1e; --line:#2a2a2a;
      --cta:#4ea8ff; --cta-hover:#4097e8; --success:#22c55e;
      --glow: 0 8px 18px rgba(34,197,94,.12);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    html,body{
      margin:0; padding:0; background:var(--bg); color:var(--ink);
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","DejaVu Sans",sans-serif;
      transition:background .3s,color .3s
    }
    .scrollbar{ position:fixed; top:0; left:0; height:1px; width:0; background:var(--success); z-index:100; pointer-events:none; transition:width .1s linear; }
    .wrap{max-width:1024px;margin:0 auto;padding:32px 20px 56px}
    .header-bar{ position:sticky; top:0; z-index:40; background:color-mix(in oklab, var(--bg) 92%, transparent); backdrop-filter:saturate(1.2) blur(6px); border-bottom:1px solid var(--line); }
    header{ display:grid; grid-template-columns:1fr auto; gap:16px; align-items:center; padding:12px 20px; margin:0 -20px; }
    .brand{display:flex; flex-direction:column}
    h1{font-size:26px;margin:0 0 2px}
    .subtitle{color:var(--muted);margin:2px 0 6px;font-size:14.5px;line-height:1.25}
    .topnav{display:flex; gap:14px; align-items:center; flex-wrap:wrap; margin-top:10px}
    .topnav a{ color:var(--muted); text-decoration:none; font-size:15px; padding:4px 0; font-weight:500; border-bottom:2px solid transparent; transition:color .15s, border-color .15s }
    .topnav a:hover{color:var(--ink); border-color:color-mix(in oklab, var(--success) 40%, transparent)}
    .topnav a.active{color:var(--success); font-weight:700; border-color:var(--success)}
    .contacts{display:flex; flex-direction:column; align-items:flex-end; gap:6px; text-align:right}
    .contacts .row{ display:flex; align-items:center; justify-content:flex-end; gap:8px; flex-wrap:nowrap; white-space:nowrap; min-width:0; }
    .contacts .ico{ width:18px; display:inline-flex; align-items:center; justify-content:center; opacity:.75; flex:0 0 18px; }
    .contacts a{color:var(--cta); text-decoration:none; line-height:1; max-width:100%; overflow:hidden; text-overflow:ellipsis}
    .copy{ position:relative; width:20px; height:20px; flex:0 0 20px; display:inline-flex; align-items:center; justify-content:center; color:var(--muted); cursor:pointer; }
    .copy svg{ width:18px; height:18px; }
    .copy .copied{ position:absolute; top:-26px; right:0; background:var(--card); border:1px solid var(--line); padding:2px 6px; border-radius:6px; white-space:nowrap; font-size:12px; color:var(--success); box-shadow:0 6px 14px rgba(0,0,0,.06); opacity:0; pointer-events:none; transform:translateY(4px); transition:.2s; }
    .copy.active .copied{ opacity:1; transform:translateY(0); }
    .card{border:1px solid var(--line);border-radius:14px;padding:18px;margin:14px 0 22px;background:var(--card);transition:background .3s,border-color .3s,box-shadow .2s}
    .cta{display:flex;gap:12px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:8px;appearance:none;border:1px solid var(--cta);background:var(--cta);color:#fff;padding:10px 16px;border-radius:10px;font-weight:600;cursor:pointer;text-decoration:none;transition:background .15s,border-color .15s}
    .btn.secondary{background:transparent;color:var(--cta)}
    .btn:hover{background:var(--success);border-color:var(--success)}
    .btn.secondary:hover{background:var(--success);border-color:var(--success);color:#fff}
    .kpi-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .kpi{ position:relative;display:flex;align-items:center;justify-content:space-between;gap:14px; border:1px solid var(--line);border-radius:12px;padding:16px;background:var(--card); transition:box-shadow .2s,border-color .2s }
    .kpi:hover{border-color:var(--success);box-shadow:var(--glow)}
    .kpi .txt{display:flex;flex-direction:column;gap:8px}
    .kpi .label{font-size:12px;color:var(--muted)}
    .kpi .value{font-size:22px;font-weight:700;line-height:1.1;transition:color .15s}
    .kpi:hover .value{color:var(--success)}
    .kpi .desc{font-size:12px;color:var(--muted);line-height:1.25}
    .kpi .ico{margin-left:8px;display:inline-flex;align-items:center;justify-content:center}
    .kpi .ico svg{ width:24px; height:24px; opacity:.95 }
    .kpi .tip { position:absolute; left:16px; right:16px; bottom:100%; transform:translateY(-8px); background:var(--card); color:var(--ink); border:1px solid var(--line); border-radius:10px; padding:8px 10px; font-size:12px; box-shadow:0 8px 20px rgba(0,0,0,.08); opacity:0; pointer-events:none; transition:opacity .15s, transform .15s; }
    .kpi:hover .tip { opacity:1; transform:translateY(-12px); }
    .kpi .tip:after { content:""; position:absolute; bottom:-6px; left:20px; width:10px; height:10px; background:var(--card); border-left:1px solid var(--line); border-bottom:1px solid var(--line); transform:rotate(45deg); }
    #download, #about, #achievements { scroll-margin-top: 96px; }
    .card.kpi-spacer{margin-bottom:54px}
    footer{margin-top:44px;color:var(--muted);font-size:14px}
    footer .cols{ display:grid; grid-template-columns: 1.4fr 0.9fr auto; gap:16px; align-items:center }
    footer a{color:var(--cta);text-decoration:none}
    @media (max-width:900px){ footer .cols{grid-template-columns:1.1fr 0.9fr; grid-auto-rows:auto} }
    @media (max-width:800px){ footer .cols{grid-template-columns:1fr; gap:10px} }
    .divider{border:none;border-top:1px solid var(--line);margin:12px 0}
    .small{font-size:12px;color:var(--muted)}
    .switch{display:inline-flex;align-items:center;gap:8px;user-select:none}
    .switch .ico{font-size:14px;opacity:.7}
    .switch input{display:none}
    .slider{position:relative;width:44px;height:24px;background:var(--line);border-radius:999px;transition:background .2s,border-color .2s;border:1px solid var(--line)}
    .slider::after{content:"";position:absolute;top:2.5px;left:2.5px;width:18px;height:18px;background:#fff;border-radius:50%;transition:transform .2s}
    body.dark .slider{background:rgba(34,197,94,.25);border-color:rgba(34,197,94,.45)}
    input:checked + .slider{background:var(--success);border-color:var(--success)}
    input:checked + .slider::after{transform:translateX(20px)}
    .sticky-cta { position:fixed; left:0; right:0; bottom:0; background:var(--card); border-top:1px solid var(--line); padding:10px 12px; display:none; gap:10px; z-index:50; }
    .sticky-cta .btn { flex:1; justify-content:center; }
    @media (max-width:520px){ .sticky-cta { display:flex; } .wrap { padding-bottom:96px; } }
  </style>
</head>

<body id="top">
  
<!-- ===== banner ===== -->
<div id="consent-banner" style="position:fixed;inset:auto 0 0 0;z-index:9999;background:#0b1220;color:#fff;padding:16px;border-top:1px solid #27324a;font:14px/1.4 system-ui,Segoe UI,Roboto,Arial,sans-serif;">
  <div style="max-width:960px;margin:0 auto;display:flex;gap:12px;align-items:flex-start;justify-content:space-between;flex-wrap:wrap">
    <div style="flex:1 1 520px;min-width:260px">
      Мы используем файлы cookie и обезличенную аналитику только с вашего согласия. 
      <a href="/privacy.html" style="color:#7cc0ff;text-decoration:underline">Политика конфиденциальности</a>.
    </div>
    <div style="display:flex;gap:8px;flex-wrap:wrap">
      <button id="consent-accept" style="background:#2ea043;color:#fff;border:0;padding:10px 14px;border-radius:8px;cursor:pointer">Принять</button>
      <button id="consent-reject" style="background:#33415c;color:#fff;border:0;padding:10px 14px;border-radius:8px;cursor:pointer">Отклонить</button>
    </div>
  </div>
</div>
<!-- ===== /banner ===== -->
  
  <div id="scrollbar" class="scrollbar" aria-hidden="true"></div>

  <div class="wrap">
    <div class="header-bar">
      <header>
        <div class="brand">
          <h1>Andrei Bazlov</h1>
          <p class="subtitle">Head of Operations & Technology / Product Manager / Head of Growth</p>
          <nav class="topnav" aria-label="Main navigation">
            <a href="#download" data-nav="download">Get CV</a>
            <a href="#about" data-nav="about">About</a>
            <a href="#achievements" data-nav="achievements">Highlights</a>
          </nav>
        </div>

        <div class="contacts">
          <div class="row"><span class="ico">📍</span><span>Serbia</span></div>
          <div class="row">
            <span class="ico">✉️</span>
            <a id="emailLink" href="mailto:io.bazlov@gmail.com">io.bazlov@gmail.com</a>
            <span id="copyEmail" class="copy" title="Скопировать e-mail" aria-label="Скопировать e-mail">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <rect x="9" y="9" width="13" height="13" rx="2"></rect>
                <path d="M5 15V5a2 2 0 0 1 2-2h10"></path>
              </svg>
              <span class="copied">Скопировано</span>
            </span>
          </div>
          <div class="row" style="gap:6px">
            <span class="ico">🔗</span>
            <a href="https://linkedin.com/in/bazlov/" target="_blank" rel="noopener">LinkedIn</a> ·
            <a href="https://t.me/+QeEfwsQTsa44YzE6" target="_blank" rel="noopener">Telegram</a>
          </div>
        </div>
      </header>
    </div>

    <div id="download" class="card">
      <h3>📄 Скачать резюме</h3>
      <div class="cta">
        <a id="link-pdf-ru" class="btn" data-href="/files/CV_RU_Andrei_Bazlov.pdf" href="#" download target="_blank" rel="noopener">⬇ PDF Русский</a>
        <a id="link-pdf-en" class="btn secondary" data-href="/files/CV_EN_Andrei_Bazlov.pdf" href="#" download target="_blank" rel="noopener">⬇ PDF English</a>
      </div>
    </div>

    <div id="about" class="card">
      <h3>Обо мне</h3>
      <p>Начинал карьеру в интернет-маркетинге и постепенно прошёл путь в агентстве до COO. Такой рост позволил мне понять бизнес «изнутри» (как работают маркетинг, SEO, продукт) и «сверху» (как управлять командами, процессами и финансами).</p>
      <p>📈 За последние годы:</p>
      <ul>
        <li>помог компании вырасти в 5 раз по выручке</li>
        <li>увеличил маржинальность с 44% до 53%</li>
        <li>повысил NPS/CSI клиентов с 60% до 70%</li>
        <li>масштабировал команду до 30+ человек</li>
        <li>внедрил HR-системы: грейды, KPI, performance review</li>
      </ul>
      <p>💡 Мои сильные стороны: соединять людей, процессы и цифры в единую систему, которая эффективно работает и даёт результат. Открыт к новым вызовам, где смогу применить этот опыт и помочь масштабировать бизнес.</p>
    </div>

    <div id="achievements" class="card kpi-spacer">
      <h3>Ключевые достижения</h3>
      <div class="kpi-grid">
        <div class="kpi">
          <div class="txt"><div class="label">Выручка</div><div class="value">×5</div><div class="desc">рост за два года</div></div>
          <div class="ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M3 17l6-6 4 4 7-7"></path><path d="M14 8h7v7"></path></svg>
          </div>
          <div class="tip">Рост за счёт пересборки пресейла, пересмотра маркетинга, грейдирования клиентов и повышения эффективности услуг.</div>
        </div>
        <div class="kpi">
          <div class="txt"><div class="label">Маржинальность</div><div class="value">53%</div><div class="desc">+9 п.п. за год</div></div>
          <div class="ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"></path><path d="M5 15l5-5 4 3 5-6"></path></svg>
          </div>
          <div class="tip">Сокращение внешних подрядчиков, трекинг всех задач, балансировка загрузки и нормирование времени.</div>
        </div>
        <div class="kpi">
          <div class="txt"><div class="label">NPS / CSI</div><div class="value">70%</div><div class="desc">+10 п.п. за год</div></div>
          <div class="ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3l3.09 6.26L22 10l-5 4.87L18.18 21 12 17.77 5.82 21 7 14.87 2 10l6.91-0.74z"></path></svg>
          </div>
          <div class="tip">Регулярные опросы, быстрые «фиксы боли», SLA по обратной связи и прозрачная отчётность.</div>
        </div>
        <div class="kpi">
          <div class="txt"><div class="label">On-time delivery</div><div class="value">&gt;90%</div><div class="desc">соблюдение сроков</div></div>
          <div class="ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 7v6l4 2"></path></svg>
          </div>
          <div class="tip">Прозрачный контроль сроков через дашборды, буферизация времени на внешние согласования, регулярные встречи для синхронизации команды и клиента.</div>
        </div>
        <div class="kpi">
          <div class="txt"><div class="label">Utilization rate</div><div class="value">&gt;85%</div><div class="desc">баланс загрузки</div></div>
          <div class="ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09A1.65 1.65 0 0 0 8 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 3.6 15a1.65 1.65 0 0 0-1.51-1H2a2 2 0 1 1 0-4h.09A1.65 1.65 0 0 0 3.6 8a1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 1 1 6.04 3.3l.06.06A1.65 1.65 0 0 0 7.92 3a1.65 1.65 0 0 0 1-1.51V1a2 2 0 1 1 4 0v.09A1.65 1.65 0 0 0 14 3.6a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 20.4 8c.62 0 1.18.24 1.6.62"></path></svg>
          </div>
          <div class="tip">Система приоритизации задач, оптимизация загрузки специалистов через ежемесячное планирование, аутсорсинг задач низкой маржинальности.</div>
        </div>
        <div class="kpi">
          <div class="txt"><div class="label">Команда</div><div class="value">30+</div><div class="desc">масштабирование</div></div>
          <div class="ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
          </div>
          <div class="tip">Грейды и наставничество, быстрый онбординг, понятные траектории роста и регулярные ревью.</div>
        </div>
      </div>
    </div>

    <footer>
      <div class="cols">
        <div>
          <strong>Контакты</strong><br>
          ✉️ <a id="emailLinkFooter" href="mailto:io.bazlov@gmail.com">io.bazlov@gmail.com</a>
          · 🔗 <a href="https://linkedin.com/in/bazlov/" target="_blank" rel="noopener">LinkedIn</a>
          · 📝 <a href="https://t.me/+QeEfwsQTsa44YzE6" target="_blank" rel="noopener">Telegram</a>
          <div class="small">Готов к обсуждению ролей: COO / Head of Operations / Product Manager / Head of Growth</div>
        </div>
        <div>
          <strong>Материалы</strong><br>
          <a href="#" id="ftr-ru" target="_blank" rel="noopener">PDF (RU)</a> ·
          <a href="#" id="ftr-en" target="_blank" rel="noopener">PDF (EN)</a> ·
          <a href="#top" id="backToTop">Наверх ↑</a>
          <div class="small">Последнее обновление: <span id="lastUpdated">Сентябрь 2025</span></div>
        </div>
        <div style="justify-self:end">
          <label class="switch" aria-label="Переключатель темы">
            <span class="ico">☀️</span>
            <input type="checkbox" id="themeToggle">
            <span class="slider"></span>
            <span class="ico">🌙</span>
          </label>
        </div>
      </div>
      <hr class="divider">
      <div class="small">© <span id="year"></span> Andrei Bazlov. Все права защищены. Эта страница не собирает персональные данные, кроме кликов по кнопкам скачивания при подключённой аналитике.</div>
    </footer>
  </div>

  <div class="sticky-cta" aria-label="Быстрые действия">
    <a id="sticky-ru" class="btn" href="#" download target="_blank" rel="noopener">⬇ PDF RU</a>
    <a id="sticky-en" class="btn secondary" href="#" download target="_blank" rel="noopener">⬇ PDF EN</a>
  </div>

  <script>
    (function(){
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const saved = localStorage.getItem('theme');
      if(saved ? saved==='dark' : prefersDark){ document.body.classList.add('dark'); }
      const t = document.getElementById('themeToggle');
      t.checked = document.body.classList.contains('dark');
      t.addEventListener('change', () => {
        document.body.classList.toggle('dark');
        localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
      });
    })();

    (function(){
      const utmKeys = ["utm_source","utm_medium","utm_campaign","utm_content","utm_term"];
      function getUTMs(){
        const p=new URLSearchParams(location.search); const o={};
        utmKeys.forEach(k=>{const v=p.get(k); if(v) o[k]=v;});
        if(!Object.keys(o).length){ try{return JSON.parse(sessionStorage.getItem('utm')||'{}');}catch(e){return{}} }
        sessionStorage.setItem('utm', JSON.stringify(o)); return o;
      }
      function withUTM(url){
        try{const u=new URL(url, location.origin); const utms=getUTMs(); Object.entries(utms).forEach(([k,v])=>u.searchParams.set(k,v)); return u.toString();}
        catch(e){return url;}
      }
      const ruBtn = document.getElementById('link-pdf-ru');
      const enBtn = document.getElementById('link-pdf-en');
      const ruUrl = withUTM(ruBtn.getAttribute('data-href'));
      const enUrl = withUTM(enBtn.getAttribute('data-href'));
      ruBtn.href = ruUrl; enBtn.href = enUrl;

      const fru = document.getElementById('ftr-ru'), fen = document.getElementById('ftr-en');
      if(fru) fru.href = ruUrl; if(fen) fen.href = enUrl;

      const sru = document.getElementById('sticky-ru'), sen = document.getElementById('sticky-en');
      sru.href = ruUrl; sen.href = enUrl;

      [ruBtn, enBtn, fru, fen, sru, sen].forEach(el=>{
        if(el){ el.setAttribute('target','_blank'); el.setAttribute('rel','noopener'); }
      });

      function track(kind, url){
        try{ if(window.gtag) gtag('event',kind,{file_url:url,ref:document.referrer, ...getUTMs()}); }catch(e){}
        try{ if(typeof ym==='function') ym(YM_COUNTER_ID,'reachGoal',kind,getUTMs()); }catch(e){}
      }
      const bind = (el, ev, url) => el && el.addEventListener('click',()=>track(ev,url));
      bind(ruBtn,'download_cv_pdf_ru',ruUrl);
      bind(enBtn,'download_cv_pdf_en',enUrl);
      bind(fru,'download_cv_pdf_ru_footer',ruUrl);
      bind(fen,'download_cv_pdf_en_footer',enUrl);
      bind(sru,'download_cv_pdf_ru_sticky',ruUrl);
      bind(sen,'download_cv_pdf_en_sticky',enUrl);
    })();

    (function(){
      document.getElementById('year').textContent = new Date().getFullYear();
      const back = document.getElementById('backToTop');
      if(back){
        back.addEventListener('click', ()=>{
          setTimeout(()=>document.getElementById('top')?.focus?.(), 200);
        });
      }
    })();

    (function(){
      const trg = document.getElementById('copyEmail');
      const lnk = document.getElementById('emailLink');
      if(trg && lnk){
        trg.addEventListener('click', async () => {
          try {
            await navigator.clipboard.writeText(lnk.textContent.trim());
            trg.classList.add('active');
            setTimeout(()=>trg.classList.remove('active'), 1500);
          } catch(e) {}
        });
      }
    })();

    (function(){
      const links = [...document.querySelectorAll('.topnav a')];
      const map = {
        download: document.getElementById('download'),
        about: document.getElementById('about'),
        achievements: document.getElementById('achievements')
      };
      const byId = id => links.find(a => a.dataset.nav === id);

      const observer = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          const id = Object.keys(map).find(k => map[k] === e.target);
          if(!id) return;
          if(e.isIntersecting){
            links.forEach(a=>a.classList.remove('active'));
            byId(id)?.classList.add('active');
          }
        });
      }, {root:null, rootMargin:"-20% 0px -60% 0px", threshold:0.2});

      Object.values(map).forEach(sec=>sec && observer.observe(sec));

      links.forEach(a=>{
        a.addEventListener('click', ()=>{
          links.forEach(x=>x.classList.remove('active'));
          a.classList.add('active');
        });
      });
    })();

    (function(){
      const bar = document.getElementById('scrollbar');
      if(!bar) return;
      const calc = () => {
        const doc = document.documentElement;
        const scrolled = doc.scrollTop || document.body.scrollTop || 0;
        const height = (doc.scrollHeight - doc.clientHeight) || 1;
        const pct = Math.min(100, Math.max(0, (scrolled / height) * 100));
        bar.style.width = pct + '%';
      };
      let ticking = false;
      window.addEventListener('scroll', () => {
        if (!ticking) {
          window.requestAnimationFrame(() => { calc(); ticking = false; });
          ticking = true;
        }
      }, {passive:true});
      window.addEventListener('resize', calc);
      calc();
    })();
  </script>
  
	<!-- ===== JS + Yandex.Metrika ===== -->
<script>
(function() {
  const KEY = 'consent_analytics';
  const accepted = localStorage.getItem(KEY) === 'yes';
  const rejected = localStorage.getItem(KEY) === 'no';
  const banner = document.getElementById('consent-banner');

  function hideBanner(){ if(banner) banner.style.display = 'none'; }
  function accept(){ localStorage.setItem(KEY,'yes'); hideBanner(); loadMetrica(); }
  function reject(){ localStorage.setItem(KEY,'no');  hideBanner(); }

  document.getElementById('consent-accept').onclick = accept;
  document.getElementById('consent-reject').onclick  = reject;

  if (accepted) { hideBanner(); loadMetrica(); }
  if (rejected) { hideBanner(); }

  function loadMetrica() {
    const METRIKA_ID = 104073832; // ← ID number
    (function(m,e,t,r,i,k,a){
      m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
      m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0];
      k.async=1;k.src=r;a.parentNode.insertBefore(k,a);
    })(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym");

    ym(METRIKA_ID,"init",{ clickmap:true, trackLinks:true, accurateTrackBounce:true, defer:true });

    var nos = document.createElement('noscript');
    nos.innerHTML = '<div><img src="https://mc.yandex.ru/watch/'+METRIKA_ID+'" style="position:absolute; left:-9999px;" alt="" /></div>';
    document.body.appendChild(nos);
  }
})();
</script>
	<!-- ===== /JS ===== -->
</body>
</html>